<!DOCTYPE html>
<html lang="en">
<head>
  <title>Patient Registration Form</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/bootstrap-datepicker@1.9.0/dist/js/bootstrap-datepicker.min.js"></script>
  <script>
		$(function(){
			$('#sandbox-container input').datepicker({
				orientation: "auto right"
			});
		});
	</script>
</head>
<body>
<form id="form" action="" method="post">
<!-- This is Heder start -->
	<div class="navbar navbar-default navbar-fixed-top">
		<div class="container-fluid">
			<div class="navbar-header">
				<a class="navbar-brand" href="#">Welcome</a>
			</div>
			
			<ul class="nav navbar-nav">
				<li>
					<a href="#">Content 1</a>
				</li>
				<li>
					<a href="#">Content 2</a>
				</li>
			</ul>	
				
			<ul class="nav navbar-nav navbar-right">	
				<li>
					<a href="#">Main<span class="caret"></span></a>
				</li>
				<li></li>
				<li></li>
				
			</ul>
		</div>
	</div>
<!-- This is Heder end -->	
	
	<div style="margin-top: 60px" class="container">
		<div class="row">
			<div class="col-md-12">
				<div class="form-group-row">
					<div class="col-xs-12">
						<div class="dropdown">
						  <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown" style="width: 50%"><span id="lang">Choose Language Spoken</span>&nbsp;<span class="caret"></span></button>
						  <ul class="dropdown-menu" id="language">
							<li><a href="#">English</a></li>
							<li><a href="#">Telugu</a></li>
							<li><a href="#">Hindi</a></li>
						  </ul>
						  <input type="hidden" id="language1" name="language">
						</div>
					</div>
				</div>
				
				<hr style="margin-top: 4%">
				<center><h1>
					<small>Patient Registration Details</small>
				</h1></center><hr>
				
				<div class="form-group-row">
					<div class="col-xs-4">
						<label for="lname">Last Name</label>
						<input type="text" id='lName' name='lName' class="form-control">
					</div>
					<div class="col-xs-4">
						<label for="fname">First Name</label>
						<input type="text" id='fName' name='fName' class="form-control">
					</div>
					<div class="col-xs-4">
						<label for="mname">Middle Name</label>
						<input type="text" id='mName' name='mName' class="form-control">
					</div>
				</div>
				<div class="form-group-row" style="margin-top: 8%">
					<div class="span5 col-md-4" id="sandbox-container">
						<label for="dob">DateOfBirth</label>
						<input type="text" class="form-control" id="dob" name="dob">
					</div>
					<div class="col-xs-4">
						<label for="ssn">SS Number</label>
						<input type="text" id='ssn' name='ssn' class="form-control">
					</div>
					<div class="col-xs-4">
						<label for="gender">Please select Gender</label><br>
						<label class="radio-inline"><input type="radio" name="gender" value="Male">Male</label>
						<label class="radio-inline"><input type="radio" name="gender" value="Female">Female</label>
						<label class="radio-inline"><input type="radio" name="gender" value="Other">Other</label>
					</div>
				</div>
				<div class="form-group-row" style="margin-top: 14%">
					<div class="col-xs-9">
						<label for="marital">Marital Status</label><br>
						<label class="radio-inline" style="margin-right: 20%;"><input type="radio" name="marital" value="married" id='married'>Married</label>
						<label class="radio-inline" style="margin-right: 20%;"><input type="radio" name="marital" value="single" id='single'>Single</label>
						<label class="radio-inline" style="margin-right: 20%;"><input type="radio" name="marital" value="widow" id='widow'>Widow</label>
						<label class="radio-inline"><input type="radio" name="marital" value="divorced" id='divorce'>Divorced</label>
					</div>
				</div>
				<div class="form-group-row" style="margin-top: 19%">
					<div class="col-xs-12">
						<label for="address">Address:</label>
						<textarea class="form-control" rows="3" id="address" name="address"></textarea>
					</div>
				</div>
				<div class="form-group-row" style="margin-top: 29%">
					<div class="col-xs-4">
						<label for="city">City</label>
						<input type="text" id='city' name='city' class="form-control">
					</div>
					<div class="col-xs-4">
						<label for="state">State</label>
						<input type="text" id='state' name='state' class="form-control">
					</div>
					<div class="col-xs-4">
						<label for="zip">ZIP</label>
						<input type="text" id='zip' name='zip' class="form-control">
					</div>
				</div>
				<div class="form-group-row" style="margin-top: 35%">
					<div class="col-xs-4">
						<label for="mobile">Mobile Phone</label>
						<input type="text" id='mobile' name='mobile' class="form-control">
					</div>
					<div class="col-xs-4">
						<label for="homephone">Home Phone</label>
						<input type="text" id='homephone' name='homephone' class="form-control">
					</div>
					<div class="col-xs-4">
						<label for="workphone">Work Phone</label>
						<input type="text" id='workphone' name='workphone' class="form-control">
					</div>
				</div>
				<div class="form-group-row" style="margin-top: 41%">
					<div class="col-xs-8">
						<label for="email">Email</label>
						<input type="text" id='email' name='email' class="form-control">
					</div>
				</div>
				
				<!-- Nominee Details Starts -->
					<!--<div class="form-group-row" style="margin-top: 570px">	
						<div class="col-xs-8" id="nominee">
							<label for="nominee">Emergency Details</label><br>
							<label class="radio-inline"><input type="radio" name="nominee" id="nomin1ee" value="Yes">Yes</label>
							<label class="radio-inline"><input type="radio" name="nominee" id="nomin1ee" value="No" checked>No</label>
						</div>
					</div>--><br><br><br><hr>
				<center><h1>
					<small>Incase of Emergency Notify</small>
				</h1></center>
				<div style="display: ''"  id="emergency">
				<hr>
					<div class="form-group-row" style="margin-top: 1%">
						<div class="col-xs-4">
							<label for="lname">Last Name</label>
							<input type="text" id='lName' name='lName' class="form-control">
						</div>
						<div class="col-xs-4">
							<label for="fname">First Name</label>
							<input type="text" id='fName' name='fName' class="form-control">
						</div>
						<div class="col-xs-4">
							<label for="mname">Middle Name</label>
							<input type="text" id='mName' name='mName' class="form-control">
						</div>
					</div>
					
					<div class="form-group-row" style="margin-top: 8%">
						<div class="col-xs-8">
							<label for="relation">Relationship</label>
							<input type="text" id='relation' name='relation' class="form-control">
						</div>
					</div>
					
					<div class="form-group-row" style="margin-top: 14%">
						<div class="col-xs-4">
							<label for="emobile">Mobile Phone</label>
							<input type="text" id='emobile' name='emobile' class="form-control">
						</div>
						<div class="col-xs-4">
							<label for="ehomephone">Home Phone</label>
							<input type="text" id='ehomephone' name='ehomephone' class="form-control">
						</div>
						<div class="col-xs-4">
							<label for="eworkphone">Work Phone</label>
							<input type="text" id='eworkphone' name='eworkphone' class="form-control">
						</div>
					</div>
					
					<div class="form-group-row" style="margin-top: 20%">
						<div class="col-xs-8">
							<label for="eaddress">Address:</label>
							<input type="text" id='eaddress' name='eaddress' class="form-control">
						</div>
						<div class="col-xs-4">
							<label for="supervisor">Supervisor</label>
							<input type="text" id='supervisor' name='supervisor' class="form-control">
						</div>
					</div>
						
					<div class="form-group-row" style="margin-top: 26%">
						<div class="col-xs-4">
							<label for="ecity">City</label>
							<input type="text" id='ecity' name='ecity' class="form-control">
						</div>
						<div class="col-xs-4">
							<label for="estate">State</label>
							<input type="text" id='estate' name='estate' class="form-control">
						</div>
						<div class="col-xs-4">
							<label for="ezip">ZIP</label>
							<input type="text" id='ezip' name='ezip' class="form-control">
						</div>
					</div>
				</div>
				<!-- Nominee Details Ends -->

				<!-- Insurance Details Starts -->
				<hr style="margin-top: 380px">
				<center><h1>
					<small>Insurance Details</small>
				</h1></center><hr>
				
				<div style="display: ''"  id="insurance">
				
					<div class="form-group-row" style="margin-top: 1%">
						<div class="col-xs-8">
							<label for="iname">Insured's Name</label>
							<input type="text" id='iname' name='iname' class="form-control">
						</div>
						<div class="span5 col-md-4" id="sandbox-container">
							<label for="idob">DOB</label>
							<input type="text" class="form-control" id="idob" name="idob">
						</div>
					</div>
					
					<div class="form-group-row" style="padding-top: 6%;">
						<div class="col-xs-8">
							<label for="irelation">Relationship</label>
							<input type="text" id='irelation' name='irelation' class="form-control">
						</div>
						<div class="span5 col-md-4" id="sandbox-container">
							<label for="sDate">Since (Date)</label>
							<input type="text" class="form-control" id="sDate" name="sDate">
						</div>
					</div>
					
					<div class="form-group-row" style="padding-top: 6%;">
						<div class="col-xs-8">
							<label for="iemp">Employer</label>
							<input type="text" id='iemp' name='iemp' class="form-control">
						</div>
						<div class="col-xs-4">
							<label for="iphone">Phone</label>
							<input type="text" id='iphone' name='iphone' class="form-control">
						</div>
					</div>
					
					<div class="form-group-row" style="padding-top: 6%;">
						<div class="col-xs-8">
							<label for="iaddress">Address</label>
							<input type="text" id='iaddress' name='iaddress' class="form-control">
						</div>
						<div class="col-xs-4">
							<label for="isupervisor">Supervisor</label>
							<input type="text" id='isupervisor' name='isupervisor' class="form-control">
						</div>
					</div>
					
				</div>
				
				<!-- Insurance Details Ends -->
				
				<!-- Medication Details Ends -->
				<hr style="margin-top: 7%">
				<div style="display: ''"  id="medication">
				
					<div class="form-group-row" style="padding-top: 0%;">
						<div class="col-xs-6">
							<label for="mall">ALLERGIES TO MEDICATION</label>
							<input type="text" id='mall' name='mall' class="form-control">
						</div>
						<div class="col-xs-6">
							<label for="oall">OTHER ALLERGIES</label>
							<input type="text" id='oall' name='oall' class="form-control">
						</div>
					</div>
				
					<div class="form-group-row" style="padding-top: 6%;">
						<div class="col-xs-3">
							<label for="smoke">Smoking</label><br>
							<label class="radio-inline"><input type="radio" name="smoke" value="Yes">Yes</label>
							<label class="radio-inline"><input type="radio" name="smoke" value="No">No</label>
							<label class="radio-inline"><input type="radio" name="smoke" value="Never">Never</label>
						</div>
						<div class="col-xs-3">
							<label for="alcohol">Alcohol</label><br>
							<label class="radio-inline"><input type="radio" name="alcohol" value="Yes">Yes</label>
							<label class="radio-inline"><input type="radio" name="alcohol" value="No">No</label>
							<label class="radio-inline"><input type="radio" name="alcohol" value="Never">Never</label>
						</div>
						<div class="col-xs-6">
							<label for="odeu">Other Drugs ever used</label>
							<input type="text" id='odeu' name='odeu' class="form-control">
						</div>
					</div>
					
					<div class="form-group-row" style="padding-top: 6%;">
						<div class="col-xs-4">
							<label for="pharm">Primary Pharmacy</label>
							<input type="text" id='pharm' name='pharm' class="form-control">
						</div>
						<div class="col-xs-4">
							<label for="mphone">Phone</label>
							<input type="text" id='mphone' name='mphone' class="form-control">
						</div>
						<div class="col-xs-4">
							<label for="location">Location</label>
							<input type="text" id='location' name='location' class="form-control">
						</div>
					</div>
				
				</div>
				
				<!-- Medication Details Ends -->
				
			</div>
		</div>
		<center><button type="button" class="btn btn-success" id="submit" style="margin-top: 50px; width: 10%">Submit</button></center>
	</div>
</form>
<script>
    $(document).ready(function(){
		alert('loaded');
		//$("div div div").css("background-color", "gray");   			"background-color":"#5dbcd2",  			"border": "2px solid red",
		$("h1").css({
			"border-radius": "5px",
			"border-top": "3px solid red",
			"background-color": "lightgrey"
		});
		
		$("h1 small").css("color","black");
		$("label").css("color","black");
		$(".radio-inline").css("color","black");
		$("button").css("border-radius","20px");
		$("input").css("border","2px solid blue");
		
		
		
		
		$("#language li a").on('click',function(){
			console.log("Language selected is: ",$(this).html());
			$('#lang').html($(this).html());
			//alert($(this).html());
			$('#language1').val($(this).html());
			//alert($('#language1').val());
		});
		
		
		$("#nominee label input").on('click',function(){
			//console.log("Nominee selected is: ",$(this).val());
			if($(this).val()=='Yes')
				$("#emergency").show();
			else
				$("#emergency").hide();
		});
		
        $("#submit").on('click', function(){
			//alert('Clicked');
			//alert($('#language1').val());
			var formData = JSON.stringify($("#form").serializeArray());
			//console.log('1: ',formData);
			var obj = JSON.parse(formData);
			//console.log('{"'+obj[0].name+'":"'+obj[0].value+'"}'+obj.length);
			var data;
			for(var i=0;i<obj.length;i++){
				if(i==0)
					data='{';
				if(i!=obj.length-1)
					data=data+'"'+obj[i].name+'":"'+obj[i].value+'",';
				else
					data=data+'"'+obj[i].name+'":"'+obj[i].value+'"}';
			}
			//console.log(data);
            $.ajax({
                url: 'http://localhost:1216/patient-form/patientdetails', // url where to submit the request
                type : "POST", // type of action POST || GET
                dataType : 'json', // data type
				contentType: "application/json",
				accept: 'appplication/json',
                data :  data, // post data || get data
                success : function(result) {
					//alert('success');
                    console.log("Result is:",result);
                },
                error: function(xhr, resp, text) {
					//alert('Error');
                    console.log(xhr, resp, text);
                }
            })
        });
    });

</script>
</body>
</html>